# JMeter + Ant + Jenkins + Git è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆå®Œæˆ

## ğŸ‰ é…ç½®å®ŒæˆçŠ¶æ€

âœ… **Gitä»“åº“åˆå§‹åŒ–** - é¡¹ç›®å·²æˆåŠŸè½¬æ¢ä¸ºGitä»“åº“ç®¡ç†  
âœ… **Antæ„å»ºè„šæœ¬ä¼˜åŒ–** - è·¯å¾„é…ç½®ä¿®æ­£ï¼Œæ”¯æŒGité›†æˆ  
âœ… **Jenkins Pipelineé…ç½®** - æä¾›å®Œæ•´çš„Pipelineè„šæœ¬  
âœ… **è‡ªåŠ¨ä»£ç æ›´æ–°** - æ¯æ¬¡æµ‹è¯•å‰è‡ªåŠ¨æ‹‰å–æœ€æ–°ä»£ç   
âœ… **æµ‹è¯•æµç¨‹éªŒè¯** - å®Œæ•´æµç¨‹æµ‹è¯•æˆåŠŸ  

## ğŸ“ é¡¹ç›®ç»“æ„

```
JmeterMac2/
â”œâ”€â”€ .git/                          # Gitç‰ˆæœ¬æ§åˆ¶
â”œâ”€â”€ .gitignore                     # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ build.xml                      # Antæ„å»ºè„šæœ¬ï¼ˆå·²é›†æˆGitï¼‰
â”œâ”€â”€ Jenkinsfile                    # Jenkins Pipelineè„šæœ¬
â”œâ”€â”€ jenkins-simulation.sh          # Jenkinsè¡Œä¸ºæ¨¡æ‹Ÿè„šæœ¬
â”œâ”€â”€ demo-script-update.sh          # Gité›†æˆæ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ JENKINS_SETUP.md              # Jenkinsé…ç½®æŒ‡å—
â”œâ”€â”€ Git_Integration_Summary.md     # æœ¬æ€»ç»“æ–‡æ¡£
â”œâ”€â”€ jmeter-script/                 # JMeteræµ‹è¯•è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ æµ‹è¯•è¦åˆ .jmx              # ç°æœ‰æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ test-comment.txt          # æµ‹è¯•æ–‡ä»¶ï¼ˆæ¼”ç¤ºç”¨ï¼‰
â”œâ”€â”€ jmeter-results/               # æµ‹è¯•ç»“æœï¼ˆè¢«Gitå¿½ç•¥ï¼‰
â”‚   â”œâ”€â”€ jtl/                      # JTLç»“æœæ–‡ä»¶
â”‚   â”œâ”€â”€ html/                     # HTMLæ±‡æ€»æŠ¥å‘Š
â”‚   â””â”€â”€ detail/                   # HTMLè¯¦ç»†æŠ¥å‘Š
â””â”€â”€ apache-jmeter-5.4.3/         # JMeterå®‰è£…åŒ…ï¼ˆè¢«Gitå¿½ç•¥ï¼‰
```

## ğŸ”„ è‡ªåŠ¨åŒ–æµç¨‹

### æ–°çš„æ‰§è¡Œæµç¨‹
1. **Gitæ›´æ–°** - æ£€æŸ¥å¹¶æ‹‰å–æœ€æ–°ä»£ç 
2. **æ¸…ç†ç¯å¢ƒ** - åˆ é™¤æ—§çš„æµ‹è¯•æŠ¥å‘Š
3. **æ‰§è¡Œæµ‹è¯•** - è¿è¡ŒJMeteræµ‹è¯•è„šæœ¬
4. **ç”ŸæˆæŠ¥å‘Š** - åˆ›å»ºHTMLæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Š

### Antä»»åŠ¡
- `ant run` - å®Œæ•´æµç¨‹ï¼ˆæ¨èï¼‰
- `ant git-update` - ä»…æ›´æ–°Gitä»£ç 
- `ant clean` - ä»…æ¸…ç†æŠ¥å‘Š
- `ant test` - ä»…æ‰§è¡Œæµ‹è¯•
- `ant report` - ä»…ç”ŸæˆæŠ¥å‘Š

## ğŸš€ Jenkinsé›†æˆæ–¹å¼

### æ–¹æ³•1ï¼šPipeline Jobï¼ˆæ¨èï¼‰
ä½¿ç”¨é¡¹ç›®ä¸­çš„ `Jenkinsfile`ï¼š
1. åˆ›å»ºPipeline Job
2. é…ç½®ä»SCMæ‹‰å–Pipelineè„šæœ¬
3. è¿è¡Œæµ‹è¯•

### æ–¹æ³•2ï¼šFreestyle Job
1. é…ç½®Gitæºç ç®¡ç†
2. æ·»åŠ Antæ„å»ºæ­¥éª¤
3. é…ç½®HTMLæŠ¥å‘Šå‘å¸ƒ

## ğŸ¯ æ ¸å¿ƒæ”¹è¿›

### Gité›†æˆç‰¹æ€§
- âœ… æ™ºèƒ½æ£€æµ‹è¿œç¨‹ä»“åº“å­˜åœ¨æ€§
- âœ… æœ¬åœ°ä»“åº“å‹å¥½ï¼ˆä¸ä¼šå› ä¸ºç¼ºå°‘è¿œç¨‹ä»“åº“è€Œå¤±è´¥ï¼‰
- âœ… è¿œç¨‹ä»“åº“è‡ªåŠ¨æ‹‰å–æœ€æ–°ä»£ç 
- âœ… GitçŠ¶æ€æ˜¾ç¤ºå’Œæ—¥å¿—è®°å½•

### è·¯å¾„ä¼˜åŒ–
- âœ… ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ›¿ä»£ç»å¯¹è·¯å¾„
- âœ… åŸºäº`${basedir}`çš„åŠ¨æ€è·¯å¾„é…ç½®
- âœ… è·¨ç¯å¢ƒå…¼å®¹æ€§æå‡

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### æœ¬åœ°æµ‹è¯•
```bash
# ç›´æ¥æ‰§è¡Œ
ant run

# æˆ–ä½¿ç”¨Jenkinsæ¨¡æ‹Ÿ
./jenkins-simulation.sh

# æ¼”ç¤ºGité›†æˆ
./demo-script-update.sh
```

### Jenkinsä¸­ä½¿ç”¨
1. åˆ›å»ºæ–°Jobï¼Œé…ç½®Gitä»“åº“
2. æ„å»ºæ­¥éª¤é€‰æ‹©"Invoke Ant"
3. Targetè®¾ç½®ä¸º"run"
4. é…ç½®HTMLæŠ¥å‘Šå‘å¸ƒ

### æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
```bash
# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add origin <ä½ çš„ä»“åº“URL>

# æ¨é€ä»£ç 
git push -u origin master

# éªŒè¯
git remote -v
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

æ¯æ¬¡æµ‹è¯•åä¼šç”Ÿæˆï¼š
- **JTLæ–‡ä»¶**: `jmeter-results/jtl/JMeter-Summary-Report-æ—¶é—´æˆ³.jtl`
- **æ±‡æ€»æŠ¥å‘Š**: `jmeter-results/html/JMeter-Summary-Report-æ—¶é—´æˆ³.html`
- **è¯¦ç»†æŠ¥å‘Š**: `jmeter-results/detail/JMeter-Detail-Report-æ—¶é—´æˆ³.html`

## ğŸ’¡ æœ€ä½³å®è·µ

1. **è„šæœ¬ç®¡ç†**: å°†æ‰€æœ‰æµ‹è¯•è„šæœ¬æ”¾åœ¨`jmeter-script/`ç›®å½•
2. **ç‰ˆæœ¬æ§åˆ¶**: å®šæœŸæäº¤è„šæœ¬å˜æ›´åˆ°Git
3. **æŠ¥å‘Šä¿ç•™**: é‡è¦æµ‹è¯•ç»“æœå»ºè®®æ‰‹åŠ¨å¤‡ä»½
4. **ç¯å¢ƒéš”ç¦»**: ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒåˆ†æ”¯
5. **è‡ªåŠ¨è§¦å‘**: é…ç½®Git webhookæˆ–å®šæ—¶è§¦å‘

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿Jenkinsè¿è¡Œç”¨æˆ·æœ‰Gitä»“åº“è®¿é—®æƒé™
2. JMeterå®‰è£…åŒ…å’Œæµ‹è¯•ç»“æœå·²é…ç½®åœ¨`.gitignore`ä¸­
3. å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¿œç¨‹Gitä»“åº“
4. å®šæœŸæ¸…ç†è¿‡æœŸçš„æµ‹è¯•æŠ¥å‘Šæ–‡ä»¶

## ğŸ“ æ”¯æŒä¿¡æ¯

- **å½“å‰Gitæäº¤**: `git log --oneline -1`
- **åˆ†æ”¯çŠ¶æ€**: `git status`
- **æµ‹è¯•æœ€åä¸€æ¬¡æˆåŠŸæ‰§è¡Œ**: æŸ¥çœ‹æœ€æ–°çš„HTMLæŠ¥å‘Šæ—¶é—´æˆ³

---
*é…ç½®å®Œæˆæ—¶é—´: $(date)*  
*Gité›†æˆç‰ˆæœ¬: v1.0*